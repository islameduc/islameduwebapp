"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[327],{1549:(e,s,t)=>{t.r(s),t.d(s,{default:()=>A,getDetailsAction:()=>f});var n=t(2791),o=t(6770),a=t.n(o),i=t(6382),c=t(460),r=t(9085),l=t(7689),d=t(1305);t(6009);const h="editor-page_container__7BrCe",u="editor-page_header__tTiVg",v="editor-page_section__QOOZ2",p="editor-page_saveButton__XXoTP";var j=t(9656),x=t(1975),g=t(2803),_=t(4938),m=t(184);const f=(0,i.hg)("details/get-details",(async(e,s)=>{const{rejectWithValue:t}=s;try{var n;const e=await c.Z.get(j.F.users.ABOUT_US);return null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.result}catch(o){return o.response&&o.response.data?t(o.response.data):t(o)}})),A=()=>{const{user:e}=(0,d.CG)((e=>e.auth)),[s,t]=(0,n.useState)(""),[o,i]=(0,n.useState)(""),[c,A]=(0,n.useState)(""),[C,w]=(0,n.useState)(""),[W,b]=(0,n.useState)([]),S=(0,l.s0)(),k=(0,d.TL)(),N=e=>W.find((s=>s.title===e));return(0,n.useEffect)((()=>{k(f()).then((e=>{const{payload:s}=e;if(s){const e=s;console.log(e),b(e)}}))}),[]),(0,n.useEffect)((()=>{var e,s,n,o;i((null===(e=N("mission"))||void 0===e?void 0:e.content)||""),t((null===(s=N("vision"))||void 0===s?void 0:s.content)||""),w((null===(n=N("whatWeDo"))||void 0===n?void 0:n.content)||""),A((null===(o=N("whoWeAre"))||void 0===o?void 0:o.content)||"")}),[W]),(0,m.jsxs)("div",{children:[(0,m.jsx)(g.Z,{}),(0,m.jsxs)("div",{className:h,children:[(0,m.jsx)("header",{className:u,children:(0,m.jsx)("h1",{children:"Edit About Us Content"})}),(0,m.jsxs)("section",{className:v,children:[(0,m.jsx)("h2",{children:"Vision"}),(0,m.jsx)(a(),{value:s,onChange:t})]}),(0,m.jsxs)("section",{className:v,children:[(0,m.jsx)("h2",{children:"Mission"}),(0,m.jsx)(a(),{value:o,onChange:i})]}),(0,m.jsxs)("section",{className:v,children:[(0,m.jsx)("h2",{children:"Who We Are"}),(0,m.jsx)(a(),{value:c,onChange:A})]}),(0,m.jsxs)("section",{className:v,children:[(0,m.jsx)("h2",{children:"What We Do"}),(0,m.jsx)(a(),{value:C,onChange:w})]}),(0,m.jsx)("button",{className:p,onClick:async()=>{const t=new FormData;t.append("mission",o),t.append("whatWeDo",C),t.append("vision",s),t.append("whoWeAre",c);try{(await fetch(j.F.users.ABOUT_US,{method:"PATCH",body:t,headers:{Authorization:"Bearer ".concat(null===e||void 0===e?void 0:e.accessToken)}})).ok?(r.Am.success("Update successful"),S(x.Hb.AboutUs)):console.error("Failed to update about us")}catch(n){console.error("Error:",n)}},children:"Save"})]}),(0,m.jsx)(_.Z,{})]})}}}]);
//# sourceMappingURL=327.a8a809dc.chunk.js.map